## ConcurrentHashMap

1. ConcurrentHashMap是一个线程安全的集合，底层是数组+链表+红黑树

2. 采用锁定头节点的方式降低了锁粒度

3. 初始化数组或头节点时,ConcurrentHashMap并没有加锁,而是CAS的方式进行原子替换。
   
    插入数据时会进行加锁处理,但锁定的不是整个数组,而是槽中的头节点。所以,ConcurrentHashMap中锁的粒度是槽,而不是整个数组,并发的性能很好。扩容时会进行加锁处理,锁定的仍然是头节点。并且,支持多个线程同时对数组扩容,提高并发能力。在扩容的过程中,依然可以支持查找操作