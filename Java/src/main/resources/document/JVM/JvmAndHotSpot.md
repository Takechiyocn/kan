## JVM和HotSpot

### 1. 概念

JVM是虚拟机规范，HotSpot是Oracle JVM的具体实现

HotSpot包含一个解释器和两个编译器(client和server二选一)，编译与解释混合执行模式，且默认启动解释执行

编译器：源代码->字节码(class文件)，字节码可动态编译(JIT)成本地机器码

解释器：解释字节码文件

server编译器：启动慢，效率高，适用于服务器端应用

client编译器：启动快，占用内存小，适用于桌面应用程序

### 2. 动态编译

JIT Compiler即动态编译

程序运行时，字节码以解释方法加载到虚拟机中

程序运行中，部分运用频率高，对程序性能影响大的代码称为热点(hotspot)，HotSpot会把这些热点**动态编译**成机器码(native code)，同时对机器码进行优化，提高效率

而字节码编译与否由HotSpot运行的监视器Profiler Monitor决定

### 3. 为什么不静态编译

为什么不用字节码在装载到虚拟机之前静态编译成本地代码？

静态编译很难准确域值程序运行过程中哪部分最需要优化

如面向对象语言的多态，静态编译无法确定程序调用哪个方法，需要在程序运行中确定调用的具体方法

